<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReTexture - AI Powered Retail Media Compliance Platform</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/theme/black.min.css">
    <style>
        :root {
            --tesco-blue: #00539F;
            --tesco-red: #EE1C2E;
            --tesco-yellow: #FFD100;
        }
        .reveal {
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        .reveal h1, .reveal h2 {
            text-transform: none;
            font-weight: 700;
        }
        .reveal h1 {
            font-size: 2.8em;
            color: var(--tesco-blue);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .reveal h2 {
            font-size: 1.8em;
            color: var(--tesco-yellow);
            margin-bottom: 0.8em;
        }
        .reveal h3 {
            font-size: 1.4em;
            color: #fff;
            text-transform: none;
        }
        .reveal p, .reveal li {
            font-size: 0.75em;
            line-height: 1.6;
        }
        .reveal ul {
            display: block;
        }
        .reveal .highlight {
            color: var(--tesco-yellow);
            font-weight: bold;
        }
        .reveal .red-highlight {
            color: var(--tesco-red);
            font-weight: bold;
        }
        .reveal .blue-highlight {
            color: var(--tesco-blue);
            font-weight: bold;
        }
        .reveal .problem-box {
            background: linear-gradient(135deg, rgba(238,28,46,0.2) 0%, rgba(238,28,46,0.1) 100%);
            border-left: 4px solid var(--tesco-red);
            padding: 20px 30px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .reveal .solution-box {
            background: linear-gradient(135deg, rgba(0,83,159,0.2) 0%, rgba(0,83,159,0.1) 100%);
            border-left: 4px solid var(--tesco-blue);
            padding: 20px 30px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .reveal .principle-box {
            background: linear-gradient(135deg, rgba(255,209,0,0.2) 0%, rgba(255,209,0,0.1) 100%);
            border: 2px solid var(--tesco-yellow);
            padding: 25px 35px;
            border-radius: 12px;
            margin: 25px 0;
            text-align: center;
        }
        .reveal .principle-box p {
            font-size: 1.2em;
            font-style: italic;
            margin: 0;
        }
        .reveal .tech-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }
        .reveal .tech-card {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .reveal .tech-card h4 {
            color: var(--tesco-yellow);
            margin-bottom: 15px;
            font-size: 0.9em;
        }
        .reveal .tech-card ul {
            margin: 0;
            padding-left: 20px;
        }
        .reveal .tech-card li {
            font-size: 0.65em;
        }
        .reveal .flow-diagram {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }
        .reveal .flow-step {
            display: inline-block;
            background: var(--tesco-blue);
            padding: 10px 20px;
            border-radius: 8px;
            margin: 5px;
            font-size: 0.6em;
        }
        .reveal .flow-arrow {
            display: inline-block;
            color: var(--tesco-yellow);
            font-size: 1.2em;
            margin: 0 10px;
        }
        .reveal .rule-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.55em;
            margin-top: 15px;
        }
        .reveal .rule-table th {
            background: var(--tesco-blue);
            color: white;
            padding: 10px;
            text-align: left;
        }
        .reveal .rule-table td {
            padding: 8px 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .reveal .rule-table tr:nth-child(even) {
            background: rgba(255,255,255,0.03);
        }
        .reveal .grid-visual {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            width: 300px;
            margin: 20px auto;
        }
        .reveal .grid-cell {
            background: rgba(0,83,159,0.3);
            border: 1px solid var(--tesco-blue);
            padding: 20px;
            text-align: center;
            font-size: 0.5em;
            border-radius: 4px;
        }
        .reveal .grid-cell.active {
            background: var(--tesco-yellow);
            color: black;
        }
        .reveal .feature-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .reveal .feature-item {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 8px;
            font-size: 0.6em;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        .reveal .feature-icon {
            font-size: 1.5em;
        }
        .reveal .code-block {
            background: #1e1e1e;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Consolas', monospace;
            font-size: 0.55em;
            text-align: left;
            overflow-x: auto;
        }
        .reveal .api-endpoint {
            background: rgba(0,83,159,0.2);
            border-radius: 6px;
            padding: 8px 15px;
            margin: 5px 0;
            font-size: 0.6em;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .reveal .api-method {
            background: var(--tesco-blue);
            padding: 3px 10px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.8em;
        }
        .reveal .impact-number {
            font-size: 3em;
            color: var(--tesco-yellow);
            font-weight: bold;
        }
        .reveal .impact-label {
            font-size: 0.7em;
            color: #888;
        }
        .reveal .team-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 30px;
        }
        .reveal .team-member {
            text-align: center;
        }
        .reveal .team-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--tesco-blue), var(--tesco-yellow));
            border-radius: 50%;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
        }
        .reveal .team-name {
            font-weight: bold;
            font-size: 0.7em;
        }
        .slides section {
            padding: 30px;
        }
        .title-slide {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #0a0a0a 100%);
        }
        .reveal .subtitle {
            font-size: 1.2em;
            color: #888;
            margin-top: 10px;
        }
        .reveal .badge {
            display: inline-block;
            background: var(--tesco-red);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.6em;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            <!-- SLIDE 1: Title -->
            <section class="title-slide">
                <h1>ReTexture</h1>
                <p class="subtitle">AI-Powered Retail Media Compliance Platform</p>
                <div class="badge">Tesco Retail Media InnovAItion Jam 2025-26</div>
                <br><br>
                <p style="font-size: 0.6em; color: #666;">
                    A first-principles approach to democratizing retail media creation<br>
                    while eliminating compliance bottlenecks
                </p>
            </section>

            <!-- SLIDE 2: The Problem - Deep Dive -->
            <section>
                <h2>The Problem: A Systemic Bottleneck</h2>
                <div class="problem-box">
                    <p><strong>Every single creative submission</strong> to Tesco's retail media business requires <span class="red-highlight">manual validation</span> against <span class="highlight">40+ brand guidelines</span>.</p>
                </div>
                <p style="text-align: left; margin-top: 30px;">Let's break down <em>why</em> this is catastrophic from first principles:</p>
                <ul>
                    <li><strong>Scale Problem:</strong> As supplier interest grows exponentially, the compliance team becomes a linear bottleneck. O(n) reviewers cannot serve O(n¬≤) submissions.</li>
                    <li><strong>Feedback Latency:</strong> Suppliers submit ‚Üí wait days ‚Üí get rejection ‚Üí fix ‚Üí resubmit ‚Üí repeat. Each cycle costs <span class="red-highlight">3-5 business days</span>.</li>
                    <li><strong>Knowledge Gap:</strong> Suppliers use Photoshop, Canva, Figma ‚Äî tools that have <em>zero</em> awareness of Tesco-specific rules. Missing a Drinkaware disclaimer on alcohol ads? That's a legal violation.</li>
                    <li><strong>Abandonment:</strong> Many SMBs simply <em>give up</em> mid-project due to complexity, representing <span class="red-highlight">lost ad revenue</span> and wasted platform investment.</li>
                </ul>
            </section>

            <!-- SLIDE 3: The Problem - Quantified -->
            <section>
                <h2>The Problem: Quantified Impact</h2>
                <div style="display: flex; justify-content: space-around; margin-top: 40px;">
                    <div style="text-align: center;">
                        <div class="impact-number">40+</div>
                        <div class="impact-label">Brand Guidelines<br>to Check Manually</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="impact-number">3-5</div>
                        <div class="impact-label">Days Per<br>Review Cycle</div>
                    </div>
                    <div style="text-align: center;">
                        <div class="impact-number">60%</div>
                        <div class="impact-label">First-Submission<br>Rejection Rate</div>
                    </div>
                </div>
                <div class="problem-box" style="margin-top: 40px;">
                    <p style="text-align: center; margin: 0;">
                        <strong>Root Cause:</strong> Compliance is treated as a <em>post-hoc gate</em> instead of an <em>integrated guardrail</em>.
                    </p>
                </div>
            </section>

            <!-- SLIDE 4: The Solution - Overview -->
            <section>
                <h2>The Solution: ReTexture</h2>
                <div class="solution-box">
                    <p><strong>ReTexture</strong> is a <span class="highlight">generative AI-powered creative builder</span> with <span class="blue-highlight">real-time compliance enforcement</span>.</p>
                </div>
                <p style="margin-top: 25px;">Instead of the old paradigm:</p>
                <div class="flow-diagram">
                    <span class="flow-step" style="background: #666;">Design</span>
                    <span class="flow-arrow">‚Üí</span>
                    <span class="flow-step" style="background: #666;">Submit</span>
                    <span class="flow-arrow">‚Üí</span>
                    <span class="flow-step" style="background: var(--tesco-red);">Wait 3-5 Days</span>
                    <span class="flow-arrow">‚Üí</span>
                    <span class="flow-step" style="background: var(--tesco-red);">Rejection</span>
                    <span class="flow-arrow">‚Üí</span>
                    <span class="flow-step" style="background: #666;">Repeat</span>
                </div>
                <p>We introduce:</p>
                <div class="flow-diagram">
                    <span class="flow-step">Design in Browser</span>
                    <span class="flow-arrow">‚Üí</span>
                    <span class="flow-step" style="background: var(--tesco-yellow); color: black;">Real-time Validation</span>
                    <span class="flow-arrow">‚Üí</span>
                    <span class="flow-step" style="background: #28a745;">One-Click Auto-Fix</span>
                    <span class="flow-arrow">‚Üí</span>
                    <span class="flow-step">Export Compliant</span>
                </div>
            </section>

            <!-- SLIDE 5: Core Principle -->
            <section>
                <h2>The Core Principle</h2>
                <div class="principle-box">
                    <p>"<strong>Agent Proposes, Geometry Decides</strong>"</p>
                </div>
                <p style="margin-top: 30px; text-align: left;">This is the <em>critical</em> design principle that separates ReTexture from naive AI implementations:</p>
                <ul>
                    <li><strong>AI suggests</strong> creative options ‚Äî headlines, placements, image variations</li>
                    <li><strong>Deterministic math validates</strong> ‚Äî contrast ratios calculated geometrically, not estimated</li>
                    <li><strong>No hallucinations in compliance</strong> ‚Äî LLM refines aesthetics on pre-filtered valid positions</li>
                </ul>
                <div class="solution-box" style="margin-top: 25px;">
                    <p style="margin: 0; text-align: center;">
                        <strong>Why?</strong> Because a hallucinated "4.5:1 contrast ratio" could cause a <span class="red-highlight">legal violation</span>.<br>
                        Compliance requires <em>mathematical certainty</em>, not probabilistic confidence.
                    </p>
                </div>
            </section>

            <!-- SLIDE 6: Architecture Overview -->
            <section>
                <h2>System Architecture: Two-Part Design</h2>
                <div class="tech-grid">
                    <div class="tech-card">
                        <h4>üñ•Ô∏è Frontend (Client)</h4>
                        <p style="font-size: 0.6em; margin-bottom: 15px;">Lightning-fast, <strong>offline-first</strong> browser editor</p>
                        <ul>
                            <li><strong>Next.js</strong> ‚Äî React framework with SSR/SSG</li>
                            <li><strong>Fabric.js</strong> ‚Äî Canvas as structured object model</li>
                            <li><strong>Zustand</strong> ‚Äî Lightweight global state</li>
                            <li><strong>TanStack Query</strong> ‚Äî Server state caching</li>
                            <li><strong>TypeScript</strong> ‚Äî Full type safety</li>
                        </ul>
                    </div>
                    <div class="tech-card">
                        <h4>‚öôÔ∏è Backend (Agents)</h4>
                        <p style="font-size: 0.6em; margin-bottom: 15px;">Stateless <strong>intelligence engine</strong></p>
                        <ul>
                            <li><strong>FastAPI</strong> ‚Äî Python async web framework</li>
                            <li><strong>Google Gemini 2.5</strong> ‚Äî AI generation/validation</li>
                            <li><strong>rembg + ONNX</strong> ‚Äî Background removal</li>
                            <li><strong>LangChain</strong> ‚Äî LLM orchestration</li>
                            <li><strong>Pydantic</strong> ‚Äî Request validation</li>
                        </ul>
                    </div>
                </div>
                <div class="principle-box" style="margin-top: 25px; background: rgba(0,83,159,0.1); border-color: var(--tesco-blue);">
                    <p style="font-size: 0.8em; font-style: normal;">
                        <strong>Key Insight:</strong> Frontend handles all interactive editing with <span class="highlight">zero latency</span>.<br>
                        Backend exists <em>only</em> for authority (validation) and intelligence (AI generation).
                    </p>
                </div>
            </section>

            <!-- SLIDE 7: Frontend Deep Dive -->
            <section>
                <h2>Frontend: The Canvas as a Document</h2>
                <p>Traditional image editors work with <strong>pixels</strong>. ReTexture works with <strong>semantic objects</strong>.</p>
                <div class="code-block" style="margin-top: 20px;">
// Every canvas object carries metadata for compliance reasoning<br>
{<br>
&nbsp;&nbsp;type: "image",<br>
&nbsp;&nbsp;left: 540, top: 100,<br>
&nbsp;&nbsp;width: 300, height: 300,<br>
&nbsp;&nbsp;<span style="color: #4fc3f7;">customId: "product-packshot-1"</span>,<br>
&nbsp;&nbsp;<span style="color: #4fc3f7;">isTescoTag: false</span>,<br>
&nbsp;&nbsp;<span style="color: #4fc3f7;">isLogo: false</span>,<br>
&nbsp;&nbsp;<span style="color: #4fc3f7;">stickerType: null</span><br>
}
                </div>
                <p style="margin-top: 20px;">This enables the backend to reason about <span class="highlight">design intent</span>, not just visual appearance.</p>
                <ul>
                    <li><code>isTescoTag: true</code> ‚Üí This element satisfies the "Tesco branding required" rule</li>
                    <li><code>customId: "headline"</code> ‚Üí Backend knows this should be ‚â•24px font</li>
                    <li><code>isLogo: true</code> ‚Üí Must be in approved positions, not overlapping value tiles</li>
                </ul>
            </section>

            <!-- SLIDE 8: Editor Hook -->
            <section>
                <h2>Frontend: The Editor Hook</h2>
                <p>The <code>useEditor()</code> hook is the heart of the frontend ‚Äî a <strong>882-line</strong> orchestration layer.</p>
                <div class="code-block">
const editor = useEditor({<br>
&nbsp;&nbsp;defaultWidth: 1080,<br>
&nbsp;&nbsp;defaultHeight: 1920,<br>
&nbsp;&nbsp;saveCallback: (data) => saveToIndexedDB(data)<br>
});<br><br>
// Returns 40+ methods for canvas manipulation<br>
editor.addText("Fresh & Delicious", { fontSize: 48 });<br>
editor.changeFillColor("#00539F");<br>
editor.savePng();  // Export with format-aware safe zones
                </div>
                <p style="margin-top: 20px;">The hook composes 7 sub-hooks:</p>
                <ul style="font-size: 0.65em;">
                    <li><strong>useHistory</strong> ‚Äî Undo/redo with canvas state serialization</li>
                    <li><strong>useClipboard</strong> ‚Äî Copy/paste with deep object cloning</li>
                    <li><strong>useAutoResize</strong> ‚Äî Viewport-aware zoom to fit workspace</li>
                    <li><strong>useCanvasEvents</strong> ‚Äî Selection, modification, deletion events</li>
                    <li><strong>useHotkeys</strong> ‚Äî Ctrl+Z, Ctrl+C, Delete bindings</li>
                    <li><strong>useLoadState</strong> ‚Äî Initial state restoration from JSON</li>
                    <li><strong>useWindowEvents</strong> ‚Äî Prevent accidental navigation</li>
                </ul>
            </section>

            <!-- SLIDE 9: Validation Engine -->
            <section>
                <h2>Backend: The Validation Engine</h2>
                <p>When the user clicks "Validate", here's what happens in the <strong>1,305-line</strong> validation runner:</p>
                <div class="flow-diagram" style="text-align: left; font-size: 0.7em;">
                    <strong>1.</strong> Receive base64-encoded Fabric.js JSON<br>
                    <strong>2.</strong> Parse into Python objects with <code>parse_fabric_canvas()</code><br>
                    <strong>3.</strong> Build spatial grid (3x3) for region-based queries<br>
                    <strong>4.</strong> Execute <span class="highlight">20+ deterministic rules</span> sequentially<br>
                    <strong>5.</strong> Calculate compliance score from violations<br>
                    <strong>6.</strong> Generate HTML preview for visual confirmation<br>
                    <strong>7.</strong> Return structured violations with <code>autoFixable</code> flags
                </div>
                <div class="solution-box" style="margin-top: 20px;">
                    <p style="margin: 0; font-size: 0.75em;">
                        <strong>Critical:</strong> All validation runs in <span class="highlight">&lt;500ms</span>.<br>
                        No AI is used in core validation ‚Äî purely deterministic geometry and regex.
                    </p>
                </div>
            </section>

            <!-- SLIDE 10: Validation Rules -->
            <section>
                <h2>The 20+ Compliance Rules</h2>
                <table class="rule-table">
                    <tr>
                        <th>Rule ID</th>
                        <th>Name</th>
                        <th>Severity</th>
                        <th>What It Checks</th>
                    </tr>
                    <tr>
                        <td>TESCO_TAG</td>
                        <td>Tesco Branding</td>
                        <td style="color: #ff6b6b;">HARD</td>
                        <td>Must have "Available at Tesco" text, logo, or sticker</td>
                    </tr>
                    <tr>
                        <td>HEADLINE</td>
                        <td>Headline Required</td>
                        <td style="color: #ff6b6b;">HARD</td>
                        <td>Must have text element with fontSize ‚â• 24px</td>
                    </tr>
                    <tr>
                        <td>MIN_FONT_SIZE</td>
                        <td>Accessibility Font</td>
                        <td style="color: #ff6b6b;">HARD</td>
                        <td>All text ‚â• 20px (social) or ‚â• 10px (checkout)</td>
                    </tr>
                    <tr>
                        <td>CONTRAST</td>
                        <td>WCAG AA Contrast</td>
                        <td style="color: #ff6b6b;">HARD</td>
                        <td>Text vs background ‚â• 4.5:1 ratio</td>
                    </tr>
                    <tr>
                        <td>SAFE_ZONE</td>
                        <td>Social Safe Zone</td>
                        <td style="color: #ff6b6b;">HARD</td>
                        <td>9:16 format: top 200px, bottom 250px clear</td>
                    </tr>
                    <tr>
                        <td>BLOCKED_COPY</td>
                        <td>Prohibited Content</td>
                        <td style="color: #ff6b6b;">HARD</td>
                        <td>No T&Cs, competitions, sustainability claims</td>
                    </tr>
                    <tr>
                        <td>NO_CTA</td>
                        <td>No CTAs</td>
                        <td style="color: #ff6b6b;">HARD</td>
                        <td>"Shop Now", "Buy Now" not allowed</td>
                    </tr>
                    <tr>
                        <td>PACKSHOT</td>
                        <td>Max Packshots</td>
                        <td style="color: #ff6b6b;">HARD</td>
                        <td>Maximum 3 product images</td>
                    </tr>
                    <tr>
                        <td>CLUBCARD_DATE</td>
                        <td>Clubcard End Date</td>
                        <td style="color: #ff6b6b;">HARD</td>
                        <td>Must include "Ends DD/MM" format</td>
                    </tr>
                    <tr>
                        <td>DRINKAWARE</td>
                        <td>Alcohol Disclaimer</td>
                        <td style="color: #ff6b6b;">HARD</td>
                        <td>Alcohol campaigns need "drinkaware.co.uk"</td>
                    </tr>
                </table>
            </section>

            <!-- SLIDE 11: Spatial Grid -->
            <section>
                <h2>The Spatial Grid: O(1) Region Queries</h2>
                <p>Validating element positions requires knowing <em>what's where</em>. Naive approach: O(n) scan every time.</p>
                <p>ReTexture solution: <strong>3x3 Spatial Partitioning</strong></p>
                <div class="grid-visual">
                    <div class="grid-cell active">Top-L<br>HEADLINE</div>
                    <div class="grid-cell">Top-C</div>
                    <div class="grid-cell">Top-R<br>LOGO</div>
                    <div class="grid-cell">Mid-L</div>
                    <div class="grid-cell">Mid-C<br>PRODUCT</div>
                    <div class="grid-cell">Mid-R</div>
                    <div class="grid-cell active">Bot-L<br>TESCO TAG</div>
                    <div class="grid-cell">Bot-C</div>
                    <div class="grid-cell active">Bot-R<br>VALUE TILE</div>
                </div>
                <ul style="font-size: 0.65em; margin-top: 20px;">
                    <li><code>get_density_map()</code> ‚Üí Returns % occupied per cell (detects crowding)</li>
                    <li><code>get_empty_regions()</code> ‚Üí Finds cells with &lt;20% density (good for placement)</li>
                    <li><code>get_elements_in_region(x, y, w, h)</code> ‚Üí O(1) spatial query</li>
                    <li><strong>Why 3x3?</strong> Matches retail layout: headlines top, products middle, badges bottom</li>
                </ul>
            </section>

            <!-- SLIDE 12: Placement Generator -->
            <section>
                <h2>Intelligent Placement: 100+ Candidates</h2>
                <p>When adding an element, where should it go? <strong>Don't ask the LLM to guess coordinates.</strong></p>
                <div class="solution-box">
                    <p style="margin: 0;">
                        <strong>Strategy:</strong> Deterministically generate 100+ candidates using spatial rules,<br>
                        score each against constraints, then rank. LLM optionally refines top choices.
                    </p>
                </div>
                <p style="margin-top: 20px;">Four generation strategies:</p>
                <ol style="font-size: 0.7em;">
                    <li><strong>Space Analysis (Primary)</strong> ‚Äî Analyze free regions first, generate candidates in viable areas</li>
                    <li><strong>Grid-based Sampling</strong> ‚Äî Uniform 80px step coverage of entire canvas</li>
                    <li><strong>Anchor-based Positioning</strong> ‚Äî Relative to existing elements (subhead below headline)</li>
                    <li><strong>Empty-region Centers</strong> ‚Äî Target low-density grid cells</li>
                </ol>
                <p style="margin-top: 15px;">Each candidate scored on:</p>
                <ul style="font-size: 0.65em;">
                    <li>Collision avoidance (does it overlap existing elements?)</li>
                    <li>Hierarchy compliance (headlines at top, badges at bottom)</li>
                    <li>Alignment (left-edge alignment, center alignment)</li>
                    <li>Safe zone compliance (not in top 200px or bottom 250px for 9:16)</li>
                </ul>
            </section>

            <!-- SLIDE 13: Auto-Fix Pipeline -->
            <section>
                <h2>AI Auto-Fix: The Retry Loop</h2>
                <p>When violations are detected, the user can click <strong>"Auto-Fix"</strong>. Here's the pipeline:</p>
                <div class="flow-diagram" style="font-size: 0.65em; text-align: left;">
                    <strong>Step 1:</strong> Extract base64 images ‚Üí replace with placeholders <code>{{ IMG_1 }}</code><br>
                    <strong>Step 2:</strong> Build structured prompt with violations + hardcoded positions<br>
                    <strong>Step 3:</strong> Call Gemini with <code>temperature=0.1</code> (deterministic)<br>
                    <strong>Step 4:</strong> Validate returned HTML structure (all tags properly closed?)<br>
                    <strong>Step 5:</strong> If invalid ‚Üí append corrective feedback ‚Üí retry (max 3x)<br>
                    <strong>Step 6:</strong> Restore base64 images from placeholders<br>
                    <strong>Step 7:</strong> Return corrected HTML + list of fixes applied
                </div>
                <div class="principle-box" style="margin-top: 20px; background: rgba(255,209,0,0.1);">
                    <p style="font-size: 0.75em; font-style: normal;">
                        <strong>Why hardcode positions?</strong> We tell Gemini <em>exactly</em> where to place elements:<br>
                        <code>headline: left=20, top=20, fontSize=36</code><br>
                        This prevents hallucinated coordinates that would violate safe zones.
                    </p>
                </div>
            </section>

            <!-- SLIDE 14: AI Features -->
            <section>
                <h2>AI Features: Gemini Integration</h2>
                <div class="feature-list">
                    <div class="feature-item">
                        <span class="feature-icon">üé®</span>
                        <div>
                            <strong>Background Removal</strong><br>
                            Dual-path: client-side browser ML for speed, server-side ONNX (rembg) for quality. One-click transparent PNG.
                        </div>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üì∏</span>
                        <div>
                            <strong>Image Variations</strong><br>
                            Upload packshot ‚Üí select style (Studio/Lifestyle/Creative) ‚Üí get 3 compliant background variations with safe zones preserved.
                        </div>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">‚úçÔ∏è</span>
                        <div>
                            <strong>Headline Generation</strong><br>
                            Analyze product image ‚Üí generate 3 compliant headlines with confidence scores. Auto-validated against blocked keyword list.
                        </div>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üìç</span>
                        <div>
                            <strong>Smart Placement</strong><br>
                            Gemini Vision detects subject position ‚Üí recommends optimal text placement in empty zones ‚Üí geometric validation.
                        </div>
                    </div>
                </div>
                <div class="code-block" style="margin-top: 20px; font-size: 0.5em;">
// Compliance suffix appended to ALL AI generation prompts<br>
TESCO_COMPLIANCE_SUFFIX = """<br>
Layout Rules: Leave top 100px clear for headline, bottom 150px for Tesco tag<br>
Hard Restrictions - NO: Text, logos, people, faces, offensive imagery<br>
Brand Safety: Professional, family-friendly, premium retail aesthetic<br>
"""
                </div>
            </section>

            <!-- SLIDE 15: API Endpoints -->
            <section>
                <h2>Backend API Endpoints</h2>
                <div style="columns: 2; column-gap: 30px;">
                    <div class="api-endpoint">
                        <span class="api-method">POST</span>
                        <span>/remove-bg</span>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method">POST</span>
                        <span>/generate/variations</span>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method">POST</span>
                        <span>/generate/variations/stream</span>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method">POST</span>
                        <span>/validate</span>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method">POST</span>
                        <span>/validate/auto-fix</span>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method">POST</span>
                        <span>/validate/generate-content</span>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method">POST</span>
                        <span>/api/headline/suggest-keywords</span>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method">POST</span>
                        <span>/api/headline/generate-headlines</span>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method">POST</span>
                        <span>/api/headline/generate-subheadings</span>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method">POST</span>
                        <span>/api/headline/smart-placement</span>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method">POST</span>
                        <span>/api/headline/calculate-placement</span>
                    </div>
                    <div class="api-endpoint">
                        <span class="api-method">POST</span>
                        <span>/api/headline/font-style</span>
                    </div>
                </div>
            </section>

            <!-- SLIDE 16: Key Features Summary -->
            <section>
                <h2>Key Features Summary</h2>
                <div class="feature-list" style="grid-template-columns: 1fr 1fr 1fr;">
                    <div class="feature-item" style="flex-direction: column; text-align: center;">
                        <span class="feature-icon">‚ö°</span>
                        <strong>Real-time Validation</strong>
                        <span style="font-size: 0.9em; color: #888;">20+ rules, &lt;500ms</span>
                    </div>
                    <div class="feature-item" style="flex-direction: column; text-align: center;">
                        <span class="feature-icon">üîß</span>
                        <strong>One-Click Auto-Fix</strong>
                        <span style="font-size: 0.9em; color: #888;">Gemini + 3x retry</span>
                    </div>
                    <div class="feature-item" style="flex-direction: column; text-align: center;">
                        <span class="feature-icon">‚úÇÔ∏è</span>
                        <strong>Background Removal</strong>
                        <span style="font-size: 0.9em; color: #888;">Client + Server paths</span>
                    </div>
                    <div class="feature-item" style="flex-direction: column; text-align: center;">
                        <span class="feature-icon">üìê</span>
                        <strong>Smart Placement</strong>
                        <span style="font-size: 0.9em; color: #888;">100+ candidates scored</span>
                    </div>
                    <div class="feature-item" style="flex-direction: column; text-align: center;">
                        <span class="feature-icon">üìè</span>
                        <strong>Multi-Format Export</strong>
                        <span style="font-size: 0.9em; color: #888;">9:16, 1:1, PNG/JPG/SVG</span>
                    </div>
                    <div class="feature-item" style="flex-direction: column; text-align: center;">
                        <span class="feature-icon">üé®</span>
                        <strong>Pre-validated Assets</strong>
                        <span style="font-size: 0.9em; color: #888;">Stickers, templates, logos</span>
                    </div>
                </div>
            </section>

            <!-- SLIDE 17: Impact -->
            <section>
                <h2>Impact: From Days to Minutes</h2>
                <div style="display: flex; justify-content: space-around; margin-top: 40px;">
                    <div style="text-align: center;">
                        <div class="impact-number" style="text-decoration: line-through; color: #ff6b6b;">3-5 days</div>
                        <div class="impact-label">OLD: Review Cycle</div>
                    </div>
                    <div style="text-align: center; font-size: 3em; color: var(--tesco-yellow);">‚Üí</div>
                    <div style="text-align: center;">
                        <div class="impact-number" style="color: #28a745;">5 min</div>
                        <div class="impact-label">NEW: Concept to Compliant</div>
                    </div>
                </div>
                <div class="solution-box" style="margin-top: 40px;">
                    <ul style="margin: 0; font-size: 0.7em;">
                        <li><strong>SMB Democratization:</strong> Suppliers without design teams can create compliant retail media</li>
                        <li><strong>Legal Risk Reduction:</strong> Missing Drinkaware, wrong contrast ratios ‚Äî caught instantly</li>
                        <li><strong>Revenue Recapture:</strong> Projects abandoned due to complexity now complete successfully</li>
                        <li><strong>Compliance Team Scaling:</strong> Human reviewers focus on edge cases, not routine checks</li>
                    </ul>
                </div>
            </section>

            <!-- SLIDE 18: The Philosophy -->
            <section>
                <h2>The Philosophy: Invisible Guardrails</h2>
                <div class="principle-box">
                    <p style="font-size: 1.1em;">
                        "Compliance should be an <strong>invisible guardrail</strong>,<br>
                        not a <strong>visible blocker</strong>."
                    </p>
                </div>
                <p style="margin-top: 30px;">ReTexture transforms compliance from:</p>
                <div style="display: flex; justify-content: space-around; margin-top: 20px;">
                    <div style="text-align: center;">
                        <div style="font-size: 2.5em; color: var(--tesco-red);">üö´</div>
                        <p style="font-size: 0.7em; color: #888;">
                            <strong>Before:</strong> Post-hoc rejection<br>
                            "Sorry, your design violates<br>
                            7 rules. Start over."
                        </p>
                    </div>
                    <div style="text-align: center; font-size: 2em; color: var(--tesco-yellow);">‚Üí</div>
                    <div style="text-align: center;">
                        <div style="font-size: 2.5em; color: #28a745;">‚úì</div>
                        <p style="font-size: 0.7em; color: #888;">
                            <strong>After:</strong> In-flow guidance<br>
                            "This text needs higher contrast.<br>
                            [One-click fix]"
                        </p>
                    </div>
                </div>
                <p style="margin-top: 25px; text-align: center; font-size: 0.8em;">
                    <strong>Creativity flows freely within brand-safe boundaries.</strong>
                </p>
            </section>

            <!-- SLIDE 19: Technical Highlights -->
            <section>
                <h2>Technical Highlights</h2>
                <ul>
                    <li><strong>1,305 lines</strong> of validation logic in <code>runner.py</code></li>
                    <li><strong>882 lines</strong> in the <code>useEditor</code> hook ‚Äî 40+ methods</li>
                    <li><strong>3x3 spatial grid</strong> for O(1) region queries</li>
                    <li><strong>100+ placement candidates</strong> generated and scored</li>
                    <li><strong>20+ deterministic compliance rules</strong> ‚Äî no AI guessing</li>
                    <li><strong>3-retry auto-fix loop</strong> with LLM feedback correction</li>
                    <li><strong>Dual-path background removal</strong> ‚Äî client ML + server ONNX</li>
                    <li><strong>Semantic canvas metadata</strong> ‚Äî <code>isTescoTag</code>, <code>isLogo</code>, <code>customId</code></li>
                    <li><strong>Format-aware safe zones</strong> ‚Äî 9:16 vs 1:1 export handling</li>
                    <li><strong>SSE streaming</strong> for image generation progress</li>
                </ul>
            </section>

            <!-- SLIDE 20: Demo Flow -->
            <section>
                <h2>Demo Flow</h2>
                <ol style="font-size: 0.75em;">
                    <li><strong>Open Editor</strong> ‚Äî Navigate to <code>/editor</code></li>
                    <li><strong>Choose Template</strong> ‚Äî Select pre-validated layout (Car Sale, Flash Sale, Travel)</li>
                    <li><strong>Upload Product</strong> ‚Äî Add packshot image</li>
                    <li><strong>Remove Background</strong> ‚Äî One-click transparent PNG</li>
                    <li><strong>Generate Headline</strong> ‚Äî AI suggests 3 compliant options</li>
                    <li><strong>Add Tesco Sticker</strong> ‚Äî Drag from pre-validated library</li>
                    <li><strong>Validate</strong> ‚Äî Click "Compliance" tab ‚Üí Run validation</li>
                    <li><strong>Auto-Fix Violations</strong> ‚Äî One-click fix for each issue</li>
                    <li><strong>Export</strong> ‚Äî Download compliant PNG/JPG</li>
                </ol>
                <div class="solution-box" style="margin-top: 20px;">
                    <p style="margin: 0; text-align: center; font-size: 0.75em;">
                        <strong>Total time:</strong> Under 5 minutes from blank canvas to compliant export.
                    </p>
                </div>
            </section>

            <!-- SLIDE 21: Team -->
            <section>
                <h2>The Team</h2>
                <p style="color: #888;">Tesco Retail Media InnovAItion Jam 2025-26</p>
                <div class="team-grid">
                    <div class="team-member">
                        <div class="team-avatar">üë®‚Äçüíª</div>
                        <div class="team-name">Ashish K. Choudhary</div>
                        <div style="font-size: 0.5em; color: #888;">@ImAshishChoudhary</div>
                    </div>
                    <div class="team-member">
                        <div class="team-avatar">üë®‚Äçüíª</div>
                        <div class="team-name">Himanshu Gupta</div>
                        <div style="font-size: 0.5em; color: #888;">@himax12</div>
                    </div>
                    <div class="team-member">
                        <div class="team-avatar">üë®‚Äçüíª</div>
                        <div class="team-name">Pratham Gupta</div>
                        <div style="font-size: 0.5em; color: #888;">@PrathamGupta06</div>
                    </div>
                    <div class="team-member">
                        <div class="team-avatar">üë®‚Äçüíª</div>
                        <div class="team-name">Arpan Taneja</div>
                        <div style="font-size: 0.5em; color: #888;">@arpan-lol</div>
                    </div>
                </div>
            </section>

            <!-- SLIDE 22: Thank You -->
            <section class="title-slide">
                <h1 style="font-size: 3.5em;">Thank You</h1>
                <p class="subtitle">Questions?</p>
                <br><br>
                <div style="font-size: 0.7em; color: #666;">
                    <p><strong>ReTexture</strong> ‚Äî AI-Powered Retail Media Compliance Platform</p>
                    <p>Built with ‚ù§Ô∏è for Tesco</p>
                </div>
                <br>
                <div class="badge">Frontend: localhost:3000/editor</div>
                <div class="badge" style="margin-left: 10px;">Backend: localhost:8000</div>
            </section>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.min.js"></script>
    <script>
        Reveal.initialize({
            hash: true,
            slideNumber: 'c/t',
            transition: 'slide',
            backgroundTransition: 'fade',
            controls: true,
            progress: true,
            center: true,
            width: 1280,
            height: 720,
        });
    </script>
</body>
</html>
